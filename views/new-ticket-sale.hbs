<!--
    Citation for elements of the following class: 'popup'
    Date: 12/08/2023
    Adapted from youtube video
    Main div logic from video incorporated. Div duplicated
    to consider failure and success. Messages are custom and
    specificity with ids and classes is modified to my own
    liking for styling purposes. The dom tree is modified
    to provide the message for the failure one, which is
    unique to our project. Works alongside successPopup and
    failurePopup functions in public js. Styling cited in 
    style sheet.
    Source URL: https://www.youtube.com/watch?v=AF6vGYIyV8M
-->
<!--
    Citation for disabled selected hidden option elements:
    Date: 12/08/2023
    Copied from stackoverflow
    One liner copied to allow me to have placeholder name for
    select elements without being able to submit them.
    Source URL: https://stackoverflow.com/questions/5805059/how-do-i-make-a-placeholder-for-a-select-box
--> 

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Feastival Showdown</title>
    <script type="text/javascript" src="/js/new-ticket-sale.js"></script>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>
<body>
    <div class="navbar-container">
        <div class="title-logo">
            <h1>Feastival Showdown DB</h1>
        </div>
        <div class="navbar">
        <span class="inner-logo">FS</span>
        <ul>

            <li class="reload"><a href="/reload/reload-db"><span class="material-symbols-outlined">cached</span><span class="nav-text">Reload Database</span></i></a></li>
            <li><a href="/"><span class="material-symbols-outlined">home</span><span class="nav-text">Home</span></a></li>
            <li><a href="/attendees"><span class="material-symbols-outlined">groups</span><span class="nav-text">Attendees</span></a></li>
            <li><a href="/tickets"><span class="material-symbols-outlined">confirmation_number</span><span class="nav-text">Tickets</span></a></li>
            <li><a href="/ticket-types"><span class="material-symbols-outlined">format_list_bulleted</span><span class="nav-text">Ticket Types</span></a></li>
            <li><a href="/discounts"><span class="material-symbols-outlined">savings</span><span class="nav-text">Discounts</span></a></li>
            <li class="active"><a href="/ticket-sales"><span class="material-symbols-outlined">point_of_sale</span><span class="nav-text">Ticket Sales</span></a></li>
            <li><a href="/competitors"><span class="material-symbols-outlined">swords </span><span class="nav-text">Competitors</span></a></li>
            <li><a href="/teams"><span class="material-symbols-outlined">diversity_3</span><span class="nav-text">Teams</span></a></li>
            <li><a href="/competitor-registrations"><span class="material-symbols-outlined">how_to_reg</span><span class="nav-text">Competitor Registrations</span></a></li>
            <li><a href="/dishes"><span class="material-symbols-outlined">dinner_dining</span><span class="nav-text">Dishes</span></a></li>
            <li><a href="/courses"><span class="material-symbols-outlined">restaurant</span><span class="nav-text">Courses</span></a></li>
            <li><a href="/ratings"><span class="material-symbols-outlined">thumb_up</span><span class="nav-text">Ratings</span></a></li>
            <li><a href="/event-years"><span class="material-symbols-outlined">calendar_month</span><span class="nav-text">Event Years</span></a></li>

        </ul>
        </div>
    </div>

    <div class="form-container">
    <h3>Add Ticket Sale:</h3>
    <form id="new-ticket-sale-form">
        <!-- Prepopulated with valid attendees to reduce errors -->
        <select id="attendee" name="attendee" required>
            <option value="" disabled selected hidden>Attendee</option>
            {{#each attendee}}
            <option value="{{this.ID}}">{{this.Name}}</option>
            {{/each}}
        </select><span></span><br>

        <!-- Prepopulated with tickets -->
        <select id="ticket" name="ticket" required>
            <option value="" disabled selected hidden>Ticket</option>
            {{#each ticket}}
            <option value="{{this.ID}}">{{this.Ticket}} {{this.Year}}</option>
            {{/each}}
        </select><span></span><br>

        <!-- Prepopulated with discounts -->
        <select id="discount" name="discount" required>
            <option value="" disabled selected hidden>Discount</option>
            <option value="">None</option>
            {{#each discount}}
            <option value="{{this.ID}}">{{this.Discount}}</option>
            {{/each}}
        </select><span></span><br>

        <button type="submit">Add Ticket Sale</button>
    </form>
    </div>
    <div class="popup" id="success-popup">
        <h3 id="success-header">Success ✓</h3>
        <p>Ticket sale successfully added!</p>
        <button type="button" id="success-button">OK</button>
    </div>
    <div class="popup" id="failure-popup">
        <h3 id="failure-header">Failure ✖</h3>
        <p id="error-msg"></p>
        <button type="button" id="failure-button">OK</button>
    </div>
</body>
</html>